###############################################################################################
#                                      -General Options-                                      # 
###############################################################################################
# These parameters are required.                                                              #
###############################################################################################

# img image to use for your Virtual Machines: 
image: 'https://cloud-images.ubuntu.com/focal/current/focal-server-cloudimg-amd64.img'

# Location to use for storing the img image. Be sure to end the directory with a '/'.
image_download_location: '/tmp/'

# Resource Pool for your virtual machines.
resource_pool: "Kubernetes"

ssh_key: '/etc/pve/priv/authorized_keys'

# The version of Docker to use on the hosts.
# Make sure the version is listed here: https://kubernetes.io/docs/setup/release/notes/
# You can list available versions with: `aptitude versions docker-ce`
docker_version: '5:19.03.11~3-0~debian-buster'

# The version of Kubernetes to install.
# The newest release can be found here: https://kubernetes.io/docs/setup/release/notes/
kubernetes_version: "v1.20.1"

# VM IDs
master_id: '4010'
node1_id: '40100'
node2_id: '40101'
node3_id: '40102'

# Hostnames
master_hn: "master1.k8"
node1_hn: "minion1.k8"
node2_hn: "minion2.k8"
node3_hn: "minion3.k8"

# Number of CPUs
master_cpu: "2"
node1_cpu: "4"
node2_cpu: "4"
node3_cpu: "4"

# Amount of memory expressed in megabytes
master_mem: "8192"
node1_mem: "8192"
node2_mem: "8192"
node3_mem: "8192"

# Disk Sizes
master_size: "50G"
node1_size: "50G"
node2_size: "50G"
node3_size: "50G"

# IP Addresses
master_ip: "10.10.10.100"
node1_ip: "10.10.10.110"
node2_ip: "10.10.10.111"
node3_ip: "10.10.10.112"

# Subnet Sizes
master_sn: "/24"
node1_sn: "/24"
node2_sn: "/24"
node3_sn: "/24"

# Network Gateway
master_gw: "10.10.10.1"
node1_gw: "10.10.10.1"
node2_gw: "10.10.10.1"
node3_gw: "10.10.10.1"

# DNS Servers
master_ns: "10.10.10.1"
node1_ns: "10.10.10.1"
node2_ns: "10.10.10.1"
node3_ns: "10.10.10.1"

# Search Domains
master_sd: "internal"
node1_sd: "internal"
node2_sd: "internal"
node3_sd: "internal"

# Network Bridges
master_bridge: "vmbr0"
node1_bridge: "vmbr0"
node2_bridge: "vmbr0"
node3_bridge: "vmbr0"

# Storage volumes
master_stg: "iscsilvm"
node1_stg: "iscsilvm"
node2_stg: "iscsilvm"
node3_stg: "iscsilvm"

# CIDR for the Calico Pod Network - MUST be different from your Kubernetes CIDR to avoid an IP conflict. Subnet size will automatically be set to /16.
calico_cidr: '172.16.0.0'

# URL for the Calico Network Policy: 
# Can be found here: https://kubernetes.io/docs/setup/independent/create-cluster-kubeadm/#tabs-pod-install-1
calico_policy_url: 'https://docs.projectcalico.org/v3.11/manifests/calico.yaml'

# The URL for the Kubernetes Dashboard Manifest. Not locally hosted as it changes frequently.
# Can be found in the `Getting Started` section of this page: https://github.com/kubernetes/dashboard/blob/master1/README.md
dasboard_url: 'https://raw.githubusercontent.com/kubernetes/dashboard/v2.0.0/aio/deploy/recommended.yaml'

# Service user created for the dashboard.
user_name: 'devnotnull'

###############################################################################################
#                                        -VLAN Options-                                       # 
###############################################################################################
# These parameters are only required if your network is configured with VLANs and you wish to #
# specify which VLAN each of your Kubernetes nodes is allocated to. Leave these variables     #
# blank if you do not intend to use VLANs for your cluster.                                   #
###############################################################################################

# VLAN Tags
master_vlan: "40"
node1_vlan: "40"
node2_vlan: "40"
node3_vlan: "40"

###############################################################################################
#                                        -NFS Options-                                        # 
###############################################################################################
# These parameters are only required if you have an NFS server and would like to enable the   #
# optional support for dynamic provisioning of Persistent Storage volumes for your pods.
###############################################################################################

# NFS server
nfs_hostname: 'nfs.k8.devnotnull.com'

# NFS Mount Point
nfs_mount_point: ' /mnt/NFSPool/iocage/s3'

# NFS Provisioner Name
nfs_provisioner: 'saturnpool'

# Namespace to deploy the NFS Provisioner to.
nfs_namespace: 'nfs-provisioner'

# Default reclaim policy. https://kubernetes.io/docs/concepts/storage/storage-classes/#reclaim-policy
nfs_reclaim_policy: 'Retain'


###############################################################################################
#                                      -MetalLB Options-                                      # 
###############################################################################################
#                                                                                             #
# WARNING: MetalLB is currently supported, however dynamic provisioning is NOT currently      #
# supported despite the explanation below. This will come in a later release, however, if you #
# are interested in using this feature you will need to modify the configmap located in the   #
# MetalLB files directory yourself to match the variables you declare here.                   #
#                                                                                             #
# These parameters are only required if you want to enable on-prem load balancing with        #
# MetalLB. The MetalLB configuration file will be dynamically provisioned based on how many   #
# variable sets you declare below. This is intended to allow you to provision a single or     #
# multiple address pools depending on your personal network configuration. The configuration  #
# is dynamically generated based on how many sets of variables you list below. For example:   #
#                                                                                             #
# If you wish to deploy a single address pool, you would declare these three variables.       #
#                                                                                             #
# metallb_ap1_name: NAME                                                                      #
# metallb_ap1_protocol: PROTOCOL                                                              #
# metallb_ap1_cidr: CIDR                                                                      #
#                                                                                             #
#                                                                                             #
# However, if you wished to declare two address pools, you would include a second set of      #
# variables where the `ap1` portion of the variable name is incremeneted by one.              #
#                                                                                             #
# metallb_ap1_name: NAME                                                                      #
# metallb_ap2_name: NAME                                                                      #
# metallb_ap1_protocol: PROTOCOL                                                              #
# metallb_ap2_protocol: PROTOCOL                                                              #
# metallb_ap1_cidr: CIDR                                                                      #
# metallb_ap2_cidr: CIDR                                                                      #
###############################################################################################

# The IP Address of the router you wish to peer with.
metallb_peer_router: '10.10.10.1'

# The AS Number of the router you wish to peer with.
metallb_peer_asn: '64512'

# The names of your address pools.
metallb_ap1_name: 'VLAN20'
metallb_ap4_name: 'VLAN70'
metallb_ap2_name: 'VLAN50'
metallb_ap3_name: 'VLAN60'

# The protocols of your address pools. (bgp|layer2)
metallb_ap1_protocol: 'bgp'
metallb_ap2_protocol: 'bgp'
metallb_ap3_protocol: 'bgp'
metallb_ap4_protocol: 'bgp'

# The CIDRs of your address pools.
metallb_ap1_cidr: '192.168.20.1/24'
metallb_ap2_cidr: '192.168.50.1/24'
metallb_ap3_cidr: '192.168.60.1/24'
metallb_ap4_cidr: '192.168.70.1/24'


###############################################################################################
#                              -NGINX Ingress Controller Options-                             # 
###############################################################################################
# These parameters are only required if you want to enable the NGINX ingress controller.      #
# REQUIREMENT: The NGINX Ingress controller integration requires a Load Balancer integration. #
###############################################################################################

# The IP Address to use 
nginx_load_balancer_ip: '10.10.10.100'
